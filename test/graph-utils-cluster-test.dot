digraph g {
graph [layout="dot",charset="UTF8",rankdir="TB"];
node [shape="record",fontname="meiryo"];
edge [fontname="meiryo"];
start [shape=Mdiamond,color=green];
end [shape=Msquare,color=yellow];

start -> a0;
start -> b0;
a3 -> end;
b3 -> end;
a1 -> b3;
b2 -> a3;
b0 -> a1;

{rank=same; start; a0; a1; a2; a3;}
{rank=same; b0; b1; b2; b3; end;}

subgraph cluster_1 {
graph [label="process1",style="filled",color="coral"];
node [color="white"];

a0 -> a1 [color=red];
a1 -> a2 [color=red];
a2 -> a3 [color=red];

}

subgraph cluster_2 {
graph [label="process2",style="filled",color="aquamarine"];
node [color="black"];

b0 -> b1 [color=blue];
b1 -> b2 [color=blue];
b2 -> b3 [color=blue];

}
}
